<!DOCTYPE html>
<html lang="en">
<head>
  <title>Trajectory Matching</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <script src="./Magic.js"></script>
  <script src="./bundle1.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
  <link rel="stylesheet" type="text/css" href="./styles.css">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1">
</head>
<body>
<body onload="start()">
  <div id="banner">
    <div class="authors">
      <h1 id="header">Trajectory Matching</h1>
    </div>
    <hr>
  </div>
  <div id="spacer" style="margin-top: 130px"></div>   
  <br>
<div class="container">
  <p>Data analysis typically involves identifying regions of parameter space within which a postulated model is statistically consistent with the data. Additionally, one frequently desires to assess the relative merits of alternative models as explanations of the data. </p>
<!-- For data analysis we neeed to identify regions of parameter space such that proposed model be consistent with the data. -->
    <p>A partially observed Markov process (POMP) model consists of incomplete and noisy measurements of a latent, unobserved Markov process. It has been a challenge to provide a software environment that can effectively handle broad classes of POMP models and take advantage of the wide range of statistical methodologies that have been proposed for such models. The pomp software package (King et al. 2016) provides us with a wide range of functions to represent POMP models.</p>

  <ul class="nav nav-tabs">
    <li class="active"><a data-toggle="tab" href="#home">Home</a></li>
    <li><a data-toggle="tab" href="#model">Model and Data</a></li>
    <li><a data-toggle="tab" href="#sobol">Sobol</a></li>
    <li><a data-toggle="tab" href="#refinements">Refinements</a></li>
  </ul>
  <div class="tab-content">
    <div id="home" class="tab-pane fade in active">
      <h3>What is trajectory matching?</h3>
      <p>
This function attempts to match trajectories of a deterministic model to data. Trajectory matching is equivalent to maximum likelihood estimation under the assumption that process noise is entirely absent, i.e., that all stochasticity is measurement error. </p>
<!-- Parameter Estimation By Fitting The Trajectory Of A Model's Deterministic Skeleton To Data. -->
    <figure>
      <img id="coil" src="./LondonData.png">
           <figcaption style="text-align:center">Figure 1: A plot of reported measles cases, population sizes of London, the annual birth rates and vaccination rates from 1945 to 1990. Source of data: <a href=http://kingaa.github.io/pomp/vignettes/twentycities.rda>http://kingaa.github.io/pomp/vignettes/twentycities.rda</a> </figcaption> 
    </figure>
    </div>
<!-- SECOND TAB -->
    <div id="model" class="tab-pane fade">
      <div id="table">
            <table id="table1">
               <tr>
                <td >Model parameters' name</td>
                <td style="width: 400px"><input id= modelParameter style="width:100%;border: 0" type="text" value=' R0, amplitude, gamma, mu, sigma, rho ,psi' ></td>
              </tr>
              <tr>
                <td class="variable"> States names</td>
                <div>
                  <td ><input id=modelStates style="width:100%;border: 0" type="text" value=' S, E, I, R , H' ></td>
                </div>
              </tr>
              <tr>
                <td class="variable"> Zero name(s)</td>
                <td ><input id= zeroName style="width:100%;border: 0" type="text" value='H' ></td>
              </tr>
              <tr>
                <td class="variable"> Time zero (t0)</td>
                <td ><input id= modelt0 style="width:100%;border: 0" type="number" value="1940" ></td>
              </tr>
              <tr>
                <td class="variable"> Maximum time step</td>
                <td ><input id= modelTimestep style="width:100%;border: 0" type="number" value="0.03846153846" ></td>
              </tr>
            </table>
          </div>
          <div>
          <section id="setup">

        <div id="setup">
          <button style="background-color:#deeaee;width: 100%" class="accordion">rprocess/ skeleton</button>
            <div class="panel"> </div>
            <br>
            <button style="background-color:#b1cbbb" class="accordion">rmeasure</button>
              <div class="panel"></div>
            <button style="background-color:#eea29a" class="accordion">dmeasure</button>
          <div class="panel" >
          </div>
        </div>
      </section>

          </div>
          <section id="step">
        <div>
          <label id = "label-file1" for="file1-upload" class="custom-button" style="background-color:#2ed573">
          Upload data covariate
          </label>
          <input id="file1-upload" type="file" style="display:none;">
        </div>
        <div>
          <label id = "label-file2" for="file2-upload" class="custom-button" style="background-color:#2ed573">
          Upload data cases
          </label>
          <input id="file2-upload" type="file" style="display:none;">
        </div>
      </section>
    </div>
<!-- THIRD TAB -->
    <div id="sobol" class="tab-pane fade">
      <div id="table">
      <table id="table1">
        </tr> 
        <tr>
          <td>
          <table id = sobolBound>
            <tr>
              <td>parameter</td>
              <td>lower bound</td>
              <td>upper bound</td>
            </tr>
            <tr>
              <td > R0</td>
              <td > <input type="number" value="0"></td>
              <td> <input type="number" value="200"></td>
            </tr>
            <tr>
              <td> amplitude</td>
              <td> <input type="number" value="0"></td>
              <td> <input type="number" value="1"></td>
            </tr>
            <tr>
              <td>gamma</td>
              <td> <input type="number" value="73.05"></td>
              <td> <input type="number" value="73.05"></td>
            </tr>
            <tr>
              <td>mu</td>
              <td> <input type="number" value="0"></td>
              <td> <input type="number" value="1"></td>
            </tr>
            <tr>
              <td>sigma</td>
              <td> <input type="number" value="45.66"></td>
              <td> <input type="number" value="45.66"></td>
            </tr>
            <tr>
              <td>rho</td>
              <td> <input type="number" value="0"></td>
              <td> <input type="number" value="1"></td>
            </tr>
            <tr>
              <td>psi</td>
              <td> <input type="number" value="0"></td>
              <td> <input type="number" value="1"></td>
            </tr>
            <tr>
              <td>S_0</td>
              <td> <input type="number" value="0"></td>
              <td> <input type="number" value="0.1"></td>
            </tr>
            <tr>
              <td>E_0</td>
              <td> <input type="number" value="0"></td>
              <td> <input type="number" value="1e-4"></td>
            </tr>
            <tr>
              <td>I_0</td>
              <td> <input type="number" value="0"></td>
              <td> <input type="number" value="1e-4"></td>
            </tr>
            <tr>
              <td>R_0</td>
              <td> <input type="number" value="0"></td>
              <td> <input type="number" value="0.9"></td>
            </tr>
          </table>
        </td>
        </tr>          
        <tr>
          <td >
            <table>
              <td  title="Integer; number of points to use. " class = "variable"> Number of points</td>
              <td><input id= sobolPoint style="width:100px; border: 0; text-align: center;" type="number" value="2000"></td>
            </table>
          </td>
        </tr>
      </table>
      <br>
      <div id="sobolButton"> <button>Generate & Run</button></div>
    </div>
    </div>
<!-- FORTH TAB -->
    <div id="refinements" class="tab-pane fade">
      <div>
          <label id = "label-file1" for="file1-upload" class="custom-button" style="background-color:#2ed573">
          Upload initial points
          </label>
          <input id="file1-upload" type="file" style="display:none;">
        </div>
      <button style="background-color:#deeaee;width: 100%" class="accordion">R0</button>
        <!-- <div class="panel"> -->
          <table id="tableR0">
            <tr>
              <td>
                log scale
              </td>
              <td>
               <label class="switch"> 
                   <input type="checkbox">
                   <span class="slider round"></span>
                 </label> 
              </td>
            </tr>
            <tr>
              <td>
                parameter limits
              </td>
              <td>
                <input type="number" name="param 1 limits" value="0">
                to
                <input type="number" name="param 1 limits" value="1">
              </td>
            </tr>
            <tr>
              <td>
                flag bound
              </td>
              <td>
                <label class="switch"> 
                   <input type="checkbox">
                   <span class="slider round"></span>
                 </label>
              </td>
            </tr>
          </table>
          <div> <button>Run</button></div>
        <!-- </div> -->
        <button style="background-color:#f7786b;width: 100%" class="accordion">Amplitude</button>
        <div class="panel">
        </div>
        <button style="background-color:#b1cbbb;width: 100%" class="accordion">Mu</button>
        <div class="panel">
        </div>
        <button style="background-color:#eea29a;width: 100%" class="accordion">Rho</button>
        <div class="panel">
        </div>
        <button style="background-color:#deeaee;width: 100%" class="accordion">Psi</button>
        <div class="panel">
        </div>
        <button>Combine</button>
    </div>
  </div>
</div>

</body>
</html>
